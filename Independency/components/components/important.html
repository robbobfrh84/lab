<template id="t">
<!-- { { { { { { { { { { { { { { { {  CSS  } } } } } } } } } } } } } } } } } -->
<style>
  .card {
    display: inline-block;
    background-color: orange;
    width: 25%;
    margin: 5px;
  }
  #title {
    width: 100%;
    background-color: cornflowerblue;
  }
  input {
    /*float: right;*/
  }
  .input-type {
    /*float: left;*/
  }
</style>
<!-- < < < < < < < < < < < < < < < <  html > > > > > > > > > > > > > > > > > -->
<content>
  <link rel="stylesheet" href="main.css">
  <div class="card">
    <div id="title"> --- Static </div>
    <div class='input-type'> string: </div>
    <input id="inputStr" placeholder="Not Set..."/>
    <div class='input-type'> number: </div>
    <input id="inputNum" placeholder="Not Set..."/>
    <button id="buttonX" class="whatever"> + </button>
    <button id="buttonXX" class="whatever"> + </button>
  </div>
</content>
</template>

<script>

  var proto = Object.create(HTMLElement.prototype)
  var importDoc = document.currentScript.ownerDocument
  var template = importDoc.querySelector('#t')

  proto.attributeChangedCallback = function() {
    const root = this.createShadowRoot()
    const datax = JSON.parse(this.getAttribute('serve'))
    template.content.getElementById('title').innerHTML = datax.title
    template.content.getElementById('inputStr').value = datax.name
    template.content.getElementById('inputNum').value = datax.num

    const clone = document.importNode(template.content, true)

    var button = clone.getElementById('buttonX')
    var x = this.getAttribute('serve')
    var data = ()=>this.getAttribute('serve')

    button.addEventListener('click', function() {
      console.log('Data:', data())
    })

    var button2 = clone.getElementById('buttonXX')
    button2.addEventListener('click', function() {
      console.log('Data2:', data())
    })

    root.appendChild(clone)
  }


  document.registerElement('important-tag', {prototype: proto} )

</script>
