<!DOCTYPE html><html lang="en"><meta charset="UTF-8">
<style>
  body {
    margin: 2.5%;
  }
  #divFrame {
    background-color: rgb(240,234,214);
    border-radius: 10px;
    width: 932px;
    height: 932px;
  }
</style>
<body>
  <div id='divFrame' >
    <svg xmlns="http://www.w3.org/2000/svg" id='frame' width="932" height="932" viewBox"0 0 932 932"></svg>
  </div>
  <script>
    var b = 10; //border
    var l = 512; //display width
    var stage = 6;

    for (var i = 1; i <= stage; i++){
      var shift = l/(Math.pow(2,i));
      var key = [];

      for (var j = 0; j <= Math.pow(2,i-1); j++){
        var x = shift*(j-1);
        var hold = 'x';
        for (var p = 0; p < j; p++){
          if(hold===key[p]){
            hold = key[p];
            key[p] = 0;
          } else {
            hold = key[p];
            key[p] = 1
          }
        }
        //console.log("key ", key);
        for (var k = 0; k < j; k++){
          var x = shift*(j-1);
          if (key[k] !== 0){
            frame.innerHTML += "<line stroke=cornflowerblue stroke-width=2 "+
            "x1="+(  l-(shift)-x-(k*shift)+b  )+"   y1="+(  l-(x*2)+(k*shift*2)-(shift*2)+b  )+" "+
            "x2="+(  l-(shift*2)-x-(k*shift)+b  )+" y2="+(  l-(x*2)+(k*shift*2)+b  )+" />";
            frame.innerHTML += "<line stroke=green stroke-width=2 "+
            "x1="+(  l/2-shift-x+(k*shift*2)+b  )+"   y1="+(  shift*2+(x*2)+b  )+" "+
            "x2="+(  l/2+shift-x+(k*shift*2)+b  )+"   y2="+(  shift*2+(x*2)+b  )+" />";
            frame.innerHTML += "<line stroke=goldenrod stroke-width=2 "+
            "x1="+(  (shift*2)+x+(k*shift)+b  )+"     y1="+(  l-(x*2)+(k*shift*2)+b  )+" "+
            "x2="+(  shift+x+(k*shift)+b  )+"         y2="+(  l-(x*2)+(k*shift*2)-(shift*2)+b  )+" />";
          }
        }
      }
      frame.innerHTML += "<circle fill=firebrick r=3 "+"cx="+(  0+b  )+"     cy="+(  l+b  )+" />";
      frame.innerHTML += "<circle fill=firebrick r=3 "+"cx="+(  (l/2)+b  )+" cy="+(  0+b  )+" />";
      frame.innerHTML += "<circle fill=firebrick r=3 "+"cx="+(  l+b  )+"     cy="+(  l+b  )+" />";
    }

  </script>
</body>
</html>
